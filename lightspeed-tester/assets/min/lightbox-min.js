!function($){"use strict";function e(t,n){if(!(this instanceof e)){var i=new e(t,n);return i.open(),i}this.id=e.id++,this.setup(t,n),this.chainCallbacks(e._callbackChain)}function t(e,t){var n={};for(var i in e)i in t&&(n[i]=e[i],delete e[i]);return n}function n(e,t){var n={},i=new RegExp("^"+t+"([A-Z])(.*)");for(var r in e){var a=r.match(i);if(a){var o=(a[1]+a[2].replace(/([A-Z])/g,"-$1")).toLowerCase();n[o]=e[r]}}return n}if("undefined"==typeof $)return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));var i=[],r=function(e){return i=$.grep(i,function(t){return t!==e&&t.$instance.closest("body").length>0})},a={allowfullscreen:1,frameborder:1,height:1,longdesc:1,marginheight:1,marginwidth:1,name:1,referrerpolicy:1,scrolling:1,sandbox:1,src:1,srcdoc:1,width:1},o={keyup:"onKeyUp",resize:"onResize"},s=function(t){$.each(e.opened().reverse(),function(){return t.isDefaultPrevented()||!1!==this[o[t.type]](t)?void 0:(t.preventDefault(),t.stopPropagation(),!1)})},c=function(t){if(t!==e._globalHandlerInstalled){e._globalHandlerInstalled=t;var n=$.map(o,function(t,n){return n+"."+e.prototype.namespace}).join(" ");$(window)[t?"on":"off"](n,s)}};e.prototype={constructor:e,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:$.noop,beforeContent:$.noop,beforeClose:$.noop,afterOpen:$.noop,afterContent:$.noop,afterClose:$.noop,onKeyUp:$.noop,onResize:$.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(e,t){"object"!=typeof e||e instanceof $!=!1||t||(t=e,e=void 0);var n=$.extend(this,t,{target:e}),i=n.resetCss?n.namespace+"-reset":n.namespace,r=$(n.background||['<div class="'+i+"-loading "+i+'">','<div class="'+i+'-content">','<button class="'+i+"-close-icon "+n.namespace+'-close" aria-label="Close">',n.closeIcon,"</button>",'<div class="'+n.namespace+'-inner">'+n.loading+"</div>","</div>","</div>"].join("")),a="."+n.namespace+"-close"+(n.otherClose?","+n.otherClose:"");return n.$instance=r.clone().addClass(n.variant),n.$instance.on(n.closeTrigger+"."+n.namespace,function(e){var t=$(e.target);("background"===n.closeOnClick&&t.is("."+n.namespace)||"anywhere"===n.closeOnClick||t.closest(a).length)&&(n.close(e),e.preventDefault())}),this},getContent:function(){if(this.persist!==!1&&this.$content)return this.$content;var e=this,t=this.constructor.contentFilters,n=function(t){return e.$currentTarget&&e.$currentTarget.attr(t)},i=n(e.targetAttr),r=e.target||i||"",a=t[e.type];if(!a&&r in t&&(a=t[r],r=e.target&&i),r=r||n("href")||"",!a)for(var o in t)e[o]&&(a=t[o],r=e[o]);if(!a){var s=r;if(r=null,$.each(e.contentFilters,function(){return a=t[this],a.test&&(r=a.test(s)),!r&&a.regex&&s.match&&s.match(a.regex)&&(r=s),!r}),!r)return"console"in window&&window.console.error("Featherlight: no content filter found "+(s?' for "'+s+'"':" (no target specified)")),!1}return a.process.call(e,r)},setContent:function(e){var t=this;return(e.is("iframe")||$("iframe",e).length>0)&&t.$instance.addClass(t.namespace+"-iframe"),t.$instance.removeClass(t.namespace+"-loading"),t.$instance.find("."+t.namespace+"-inner").not(e).replaceWith($.contains(t.$instance[0],e[0])?"":e),t.$content=e.addClass(t.namespace+"-inner"),t},open:function(e){var t=this;if(t.$instance.hide().appendTo(t.root),!(e&&e.isDefaultPrevented()||t.beforeOpen(e)===!1)){e&&e.preventDefault();var n=t.getContent();if(n)return i.push(t),c(!0),t.$instance.fadeIn(t.openSpeed),t.beforeContent(e),$.when(n).always(function(n){t.setContent(n),t.afterContent(e)}).then(t.$instance.promise()).done(function(){t.afterOpen(e)})}return t.$instance.detach(),$.Deferred().reject().promise()},close:function(e){var t=this,n=$.Deferred();return t.beforeClose(e)===!1?n.reject():(0===r(t).length&&c(!1),t.$instance.fadeOut(t.closeSpeed,function(){t.$instance.detach(),t.afterClose(e),n.resolve()})),n.promise()},resize:function(e,t){if(e&&t){this.$content.css("width","").css("height","");var n=Math.max(e/(parseInt(this.$content.parent().css("width"),10)-1),t/(parseInt(this.$content.parent().css("height"),10)-1));n>1&&(n=t/Math.floor(t/n),this.$content.css("width",""+e/n+"px").css("height",""+t/n+"px"))}},chainCallbacks:function(e){for(var t in e)this[t]=$.proxy(e[t],this,$.proxy(this[t],this))}},$.extend(e,{id:0,autoBind:"[data-featherlight]",defaults:e.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(e){return e instanceof $&&e},process:function(e){return this.persist!==!1?$(e):$(e).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp|svg)(\?\S*)?$/i,process:function(e){var t=this,n=$.Deferred(),i=new Image,r=$('<img src="'+e+'" alt="" class="'+t.namespace+'-image" />');return i.onload=function(){r.naturalWidth=i.width,r.naturalHeight=i.height,n.resolve(r)},i.onerror=function(){n.reject(r)},i.src=e,n.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(e){return $(e)}},ajax:{regex:/./,process:function(e){var t=this,n=$.Deferred(),i=$("<div></div>").load(e,function(e,t){"error"!==t&&n.resolve(i.contents()),n.fail()});return n.promise()}},iframe:{process:function(e){var i=new $.Deferred,r=$("<iframe/>"),o=n(this,"iframe"),s=t(o,a);return r.hide().attr("src",e).attr(s).css(o).on("load",function(){i.resolve(r.show())}).appendTo(this.$instance.find("."+this.namespace+"-content")),i.promise()}},text:{process:function(e){return $("<div>",{text:e})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(e,t){var n=this,i=new RegExp("^data-"+t+"-(.*)"),r={};return e&&e.attributes&&$.each(e.attributes,function(){var e=this.name.match(i);if(e){var t=this.value,a=$.camelCase(e[1]);if($.inArray(a,n.functionAttributes)>=0)t=new Function(t);else try{t=JSON.parse(t)}catch(o){}r[a]=t}}),r},extend:function(e,t){var n=function(){this.constructor=e};return n.prototype=this.prototype,e.prototype=new n,e.__super__=this.prototype,$.extend(e,this,t),e.defaults=e.prototype,e},attach:function(e,t,n){var i=this;"object"!=typeof t||t instanceof $!=!1||n||(n=t,t=void 0),n=$.extend({},n);var r=n.namespace||i.defaults.namespace,a=$.extend({},i.defaults,i.readElementConfig(e[0],r),n),o;return e.on(a.openTrigger+"."+a.namespace,a.filter,function(r){var s=$.extend({$source:e,$currentTarget:$(this)},i.readElementConfig(e[0],a.namespace),i.readElementConfig(this,a.namespace),n),c=o||$(this).data("featherlight-persisted")||new i(t,s);"shared"===c.persist?o=c:c.persist!==!1&&$(this).data("featherlight-persisted",c),s.$currentTarget.blur(),c.open(r)}),e},current:function(){var e=this.opened();return e[e.length-1]||null},opened:function(){var e=this;return r(),$.grep(i,function(t){return t instanceof e})},close:function(e){var t=this.current();return t?t.close(e):void 0},_onReady:function(){var e=this;e.autoBind&&($(e.autoBind).each(function(){e.attach($(this))}),$(document).on("click",e.autoBind,function(t){t.isDefaultPrevented()||"featherlight"===t.namespace||(t.preventDefault(),e.attach($(t.currentTarget)),$(t.target).trigger("click.featherlight"))}))},_callbackChain:{onKeyUp:function(e,t){return 27===t.keyCode?(this.closeOnEsc&&$.featherlight.close(t),!1):e(t)},beforeOpen:function(e,t){return this._previouslyActive=document.activeElement,this._$previouslyTabbable=$("a, input, select, textarea, iframe, button, iframe, [contentEditable=true]").not("[tabindex]").not(this.$instance.find("button")),this._$previouslyWithTabIndex=$("[tabindex]").not('[tabindex="-1"]'),this._previousWithTabIndices=this._$previouslyWithTabIndex.map(function(e,t){return $(t).attr("tabindex")}),this._$previouslyWithTabIndex.add(this._$previouslyTabbable).attr("tabindex",-1),document.activeElement.blur(),e(t)},afterClose:function(e,t){var n=e(t),i=this;return this._$previouslyTabbable.removeAttr("tabindex"),this._$previouslyWithTabIndex.each(function(e,t){$(t).attr("tabindex",i._previousWithTabIndices[e])}),this._previouslyActive.focus(),n},onResize:function(e,t){return this.resize(this.$content.naturalWidth,this.$content.naturalHeight),e(t)},afterContent:function(e,t){var n=e(t);return this.$instance.find("[autofocus]:not([disabled])").focus(),this.onResize(t),n}}}),$.featherlight=e,$.fn.featherlight=function(t,n){return e.attach(this,t,n)},$(document).ready(function(){e._onReady()})}(jQuery),function($){"use strict";function e(t,n){if(!(this instanceof e)){var i=new e($.extend({$source:t,$currentTarget:t.first()},n));return i.open(),i}$.featherlight.apply(this,arguments),this.chainCallbacks(o)}var t=function(e){window.console&&window.console.warn&&window.console.warn("FeatherlightGallery: "+e)};if("undefined"==typeof $)return t("Too much lightness, Featherlight needs jQuery.");if(!$.featherlight)return t("Load the featherlight plugin before the gallery plugin");var n="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,i=$.event&&$.event.special.swipeleft&&$,r=window.Hammer&&function(e){var t=new window.Hammer.Manager(e[0]);return t.add(new window.Hammer.Swipe),t},a=n&&(i||r);n&&!a&&t("No compatible swipe library detected; one must be included before featherlightGallery for swipe motions to navigate the galleries.");var o={afterClose:function(e,t){var n=this;return n.$instance.off("next."+n.namespace+" previous."+n.namespace),n._swiper&&(n._swiper.off("swipeleft",n._swipeleft).off("swiperight",n._swiperight),n._swiper=null),e(t)},beforeOpen:function(e,t){var n=this;return n.$instance.on("next."+n.namespace+" previous."+n.namespace,function(e){var t="next"===e.type?1:-1;n.navigateTo(n.currentNavigation()+t)}),a&&(n._swiper=a(n.$instance).on("swipeleft",n._swipeleft=function(){n.$instance.trigger("next")}).on("swiperight",n._swiperight=function(){n.$instance.trigger("previous")}),n.$instance.addClass(this.namespace+"-swipe-aware",a)),n.$instance.find("."+n.namespace+"-content").append(n.createNavigation("previous")).append(n.createNavigation("next")),e(t)},beforeContent:function(e,t){var n=this.currentNavigation(),i=this.slides().length;return this.$instance.toggleClass(this.namespace+"-first-slide",0===n).toggleClass(this.namespace+"-last-slide",n===i-1),e(t)},onKeyUp:function(e,t){var n={37:"previous",39:"next"}[t.keyCode];return n?(this.$instance.trigger(n),!1):e(t)}};$.featherlight.extend(e,{autoBind:"[data-featherlight-gallery]"}),$.extend(e.prototype,{previousIcon:"&#9664;",nextIcon:"&#9654;",galleryFadeIn:100,galleryFadeOut:300,slides:function(){return this.filter?this.$source.find(this.filter):this.$source},images:function(){return t("images is deprecated, please use slides instead"),this.slides()},currentNavigation:function(){return this.slides().index(this.$currentTarget)},navigateTo:function(e){var t=this,n=t.slides(),i=n.length,r=t.$instance.find("."+t.namespace+"-inner");return e=(e%i+i)%i,t.$currentTarget=n.eq(e),t.beforeContent(),$.when(t.getContent(),r.fadeTo(t.galleryFadeOut,.2)).always(function(e){t.setContent(e),t.afterContent(),e.fadeTo(t.galleryFadeIn,1)})},createNavigation:function(e){var t=this;return $('<span title="'+e+'" class="'+this.namespace+"-"+e+'"><span>'+this[e+"Icon"]+"</span></span>").click(function(){$(this).trigger(e+"."+t.namespace)})}}),$.featherlightGallery=e,$.fn.featherlightGallery=function(t){return e.attach(this,t)},$(document).ready(function(){e._onReady()})}(jQuery);